From 32634d172f6dfbe1bc5293c5b241ec1dc543eaee Mon Sep 17 00:00:00 2001
From: Bryan Brattlof <bb@ti.com>
Date: Tue, 1 Feb 2022 14:37:27 -0600
Subject: [PATCH 1/8] common: socinfo: add j721s2 device identification

Add the initial identification support for the j721s2 SoC

Signed-off-by: Bryan Brattlof <bb@ti.com>
---
 common/socinfo.c  | 11 +++++++++++
 include/socinfo.h |  1 +
 2 files changed, 12 insertions(+)

diff --git a/common/socinfo.c b/common/socinfo.c
index f4f0019..4c0459b 100644
--- a/common/socinfo.c
+++ b/common/socinfo.c
@@ -150,6 +150,12 @@ static void am654_sr2_init(void)
 	soc_info.sec_proxy = &k3_generic_sec_proxy_base;
 }
 
+static void j721s2_init(void)
+{
+	soc_info.host_id = DEFAULT_HOST_ID;
+	soc_info.sec_proxy = &k3_generic_sec_proxy_base;
+}
+
 static void j721e_init(void)
 {
 	struct ti_sci_info *sci_info = &soc_info.sci_info;
@@ -253,6 +259,9 @@ int soc_init(uint32_t host_id)
 	case AM65X:
 		name = "AM65x";
 		break;
+	case J721S2:
+		name = "J721S2";
+		break;
 	case J721E:
 		name = "J721E";
 		break;
@@ -285,6 +294,8 @@ int soc_init(uint32_t host_id)
 		am654_init();
 	else if (soc_info.soc == AM65X && soc_info.rev == REV_SR2_0)
 		am654_sr2_init();
+	else if (soc_info.soc == J721S2)
+		j721s2_init();
 	else if (soc_info.soc == J721E)
 		j721e_init();
 	else if (soc_info.soc == J7200)
diff --git a/include/socinfo.h b/include/socinfo.h
index 1585b35..bd29bcd 100644
--- a/include/socinfo.h
+++ b/include/socinfo.h
@@ -49,6 +49,7 @@
 #define J721E	0xbb64
 #define J7200	0xbb6d
 #define AM64X	0xbb38
+#define J721S2	0xbb75
 
 typedef enum {
 	REV_SR1_0,
-- 
2.17.1

